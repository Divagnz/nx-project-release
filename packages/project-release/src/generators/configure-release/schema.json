{
  "$schema": "http://json-schema.org/schema",
  "cli": "nx",
  "$id": "ConfigureRelease",
  "title": "Configure Platform Release",
  "description": "Configure GitHub/GitLab platform release settings (release notes, artifacts, draft/prerelease flags). For tag configuration use configure-global, for exclusions use exclude-projects.",
  "type": "object",
  "properties": {
    "projects": {
      "type": "array",
      "description": "Project names to configure (interactive multi-select)",
      "items": {
        "type": "string"
      }
    },
    "project": {
      "type": "string",
      "description": "Single project name (for CLI usage - will be converted to projects array)"
    },
    "platform": {
      "type": "string",
      "enum": ["github", "gitlab", "none"],
      "description": "Release platform",
      "default": "github",
      "x-prompt": {
        "message": "Which release platform?",
        "type": "list",
        "items": [
          { "value": "github", "label": "GitHub (create GitHub releases)" },
          { "value": "gitlab", "label": "GitLab (create GitLab releases)" },
          { "value": "none", "label": "None (git tags only, no platform release)" }
        ]
      }
    },
    "releaseNotes": {
      "type": "string",
      "enum": ["changelog", "auto-generate", "both"],
      "description": "How to generate release notes",
      "default": "changelog",
      "x-prompt": {
        "message": "How to generate release notes?",
        "type": "list",
        "items": [
          { "value": "changelog", "label": "Use changelog file (CHANGELOG.md)" },
          { "value": "auto-generate", "label": "Auto-generate from commits" },
          { "value": "both", "label": "Both (try changelog, fallback to auto-generate)" }
        ]
      }
    },
    "changelogFile": {
      "type": "string",
      "description": "Changelog file path",
      "default": "CHANGELOG.md",
      "x-prompt": {
        "message": "Changelog file path?",
        "type": "input"
      }
    },
    "prerelease": {
      "type": "boolean",
      "description": "Mark releases as prerelease (per-project)",
      "default": false
    },
    "draft": {
      "type": "boolean",
      "description": "Create releases as draft (per-project)",
      "default": false
    },
    "attachArtifacts": {
      "type": "boolean",
      "description": "Attach artifacts from artifact target to releases (per-project)"
    },
    "assetPatterns": {
      "type": "array",
      "description": "Custom asset glob patterns to attach to releases",
      "items": {
        "type": "string"
      },
      "examples": [
        ["dist/artifacts/{projectName}-*.tgz"],
        ["dist/**/*.zip", "build/**/*.tar.gz"]
      ]
    },
    "interactive": {
      "type": "boolean",
      "description": "Use interactive mode",
      "default": true
    }
  },
  "required": []
}
